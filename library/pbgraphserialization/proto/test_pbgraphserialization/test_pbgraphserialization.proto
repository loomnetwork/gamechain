syntax = "proto3";

option go_package = "pbgraphserialization_pb_test";

import "github.com/gogo/protobuf/gogoproto/gogo.proto";
import "github.com/loomnetwork/gamechain/library/pbgraphserialization/proto/pbgraphserialization/pbgraphserialization.proto";

message CardAbility {
    string targetType = 2;
    string effect = 3;
}

message Card {
    string name = 2;
    repeated SerializationId abilities = 3; // abilities that this specific card uses
}

message CardList {
    repeated SerializationId abilities = 2; // all possible card abilities
    repeated SerializationId cards = 3;
}

message EntityA {
    SerializationId entityB = 1;
    int32 aField = 2;
}

message EntityB {
    SerializationId entityA = 1;
    int32 bField = 2;
}

message SelfReferenceEntity {
    SerializationId otherEntity = 1;
    int32 field = 2;
}

message ComplexType {
    repeated int32 intArray = 1;
    double double = 2;
    bytes byteArray = 3;
    AwesomeEnum awesomeEnum = 4;
    repeated AwesomeEnum awesomeEnumArray = 5;
    SerializationId otherEntity = 6;
    repeated SerializationId otherEntityArray = 7;
    repeated string stringArray = 8;
}

message InvalidType1 {
    SerializationId card = 1;
}

message InvalidType2 {
    repeated SerializationId card = 1;
}

message InvalidType3 {
    repeated SerializationId card = 1 [(gogoproto.nullable) = false];
}

message InvalidType4 {
    CardAbility cardAbility = 1;
}

message InvalidType5 {
    map<int32, CardAbility> cardAbilities = 3;
}

message InvalidType6 {
    repeated int32 data = 1;
}

message EmptyType {
}

enum AwesomeEnum {
    AwesomeEnum_Foo = 0;
    AwesomeEnum_Bar = 1;
}